{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport radarAxisJson from '../../../../pyCharm/ybcProject/data/radar_axis.json';\nimport radarJson from '../../../../pyCharm/ybcProject/data/radar_detail.json';\nimport bordJson from '../../../../pyCharm/ybcProject/data/bord.json';\nimport bord123Json from '../../../../pyCharm/ybcProject/data/bord123.json';\nimport * as d3 from 'd3';\nexport default {\n  name: 'view_2',\n  data() {\n    return {\n      chartData: {\n        fieldNames: [['流动比率', '速动比率', '现金比率', '资产负债率', '所有者权益比率', '产权比率'], ['流动资产周转率', '流动资产利润率', '固定资产周转率', '固定资产利润率', '总资产周转率', '总资产利润率'], ['营业毛利率', '净利润率', '营业利润率', '成本费用利润率', '总资产报酬率', '总负债报酬率']],\n        title: ['偿债能力分析', '运营能力分析', '获利能力分析'],\n        values: [[[10, 20, 30, 40, 50, 60], [10, 20, 30, 40, 100, 100]], [[10, 20, 30, 40, 50, 60], [10, 20, 30, 40, 100, 100]], [[10, 20, 30, 40, 50, 60], [10, 20, 30, 40, 100, 100]]],\n        values_coop_num: [[[1, 1, 0, 1, 0], [1, 2, 3, 4, 5], [30, 2, 3, 4, 5], [1, 2, 3, 4, 5], [1, 2, 30, 4, 5], [1, 2, 3, 4, 5]], [[1, 1, 0, 1, 0], [1, 2, 3, 4, 5], [30, 30, 30, 30, 30], [1, 2, 3, 4, 5], [1, 2, 30, 4, 5], [1, 2, 3, 4, 5]], [[1, 1, 0, 1, 0], [1, 2, 3, 4, 5], [30, 30, 30, 30, 30], [1, 2, 3, 4, 5], [1, 2, 30, 4, 5], [30, 30, 30, 30, 30]]]\n      },\n      chartConfig: {\n        // 调整雷达图的大小\n        radius: 75,\n        // 雷达图外扇形半径\n        sector_radius: 80,\n        // 雷达图外扇形高度\n        sector_height: 15,\n        // 指标的数量，和fieldNames的长度相同\n        total: 6,\n        // 网轴的级数，网轴上从小到大有多少个正方形\n        level: 5,\n        rangeMin: 0,\n        rangeMax: 100,\n        arc: 2 * Math.PI,\n        mainColor: ['#0081C9', '#54B435', '#F7A4A4'],\n        count: 0\n      }\n    };\n  },\n  props: {\n    corCop: Number\n  },\n  methods: {\n    // 计算轴颜色和扇形颜色盘\n    // 公司和对比公司的颜色盘\n    getColorCoop(idx) {\n      const palette = ['#0081C9', '#54B435'];\n      return palette[idx % palette.length];\n    },\n    getColor(idx, proportion) {\n      const palette = [\n      // 从上到下：绿黄蓝紫灰红\n      ['#2ca25f', '#99d8c9'], ['#fdae6b', '#ffeda0'], ['#3182bd', '#9ecae1'], ['#756bb1', '#bcbddc'], ['#636363', '#bdbdbd'], ['#f03b20', '#feb24c']];\n      const i = d3.interpolateLab(palette[idx][0], palette[idx][1]);\n      return i(proportion);\n    },\n    createRadarChart(width, height, idx) {\n      // 给data里的值赋值\n      // this.chartData.values_main[0][0] = 100\n      const that = this;\n      const main = d3.select('#view3 svg').append('g').classed('main', true)\n      // 可以这么写数据，圆中心位置\n      .attr('transform', 'translate(' + width + ',' + height + ')');\n      const onePiece = this.chartConfig.arc / this.chartConfig.total;\n      // 每个点坐标\n      const polygons = {\n        webs: [],\n        webPoints: [],\n        // 同心圆半径\n        radius_circle: []\n      };\n      // 计算每一层坐标\n      for (let k = this.chartConfig.level; k > 0; k--) {\n        let webs = '';\n        const webPoints = [];\n        const r = this.chartConfig.radius / this.chartConfig.level * k;\n        polygons.radius_circle.push(r);\n        // 计算一层中每个点的坐标\n        for (let i = 0; i < this.chartConfig.total; i++) {\n          const x = r * Math.sin(i * onePiece);\n          const y = r * Math.cos(i * onePiece);\n          const temp = this.findMax(this.chartData.values_coop_num[idx][i]);\n          webs += x + ',' + y + ' ';\n          webPoints.push({\n            x: x,\n            y: y,\n            proportion: this.chartData.values_coop_num[idx][i][k] / temp\n          });\n        }\n        polygons.webs.push(webs);\n        polygons.webPoints.push(webPoints);\n      }\n      // 画圆外侧扇形区域\n      const sectorsData = this.calcSectorData(idx);\n      const pointsData = this.calcPointData(idx);\n      const sectors = main.append('g').classed('sectors', true);\n      sectors.selectAll('g').data(sectorsData).enter().append('g').attr('class', function (d, i) {\n        return 'sector' + (i + 1);\n      });\n      for (let i = 0; i < sectorsData.length; i++) {\n        // 遍历每个雷达图区域\n        const sector = sectors.select('.sector' + (i + 1));\n        const sectorData = sectorsData[i];\n        sector.append('polygon').attr('points', sectorData.polygon).attr('fill', function (d, index) {\n          return that.getColor(i, 0.5);\n        });\n        // .attr('fill', 'none')\n        // const circles = sector.append('g')\n        //   .classed('circles', true)\n        // circles.selectAll('circles')\n        //   .data(sectorData.points)\n        //   .enter()\n        //   .append('circle')\n        //   .attr('cx', function (d) {\n        //     return d.x\n        //   })\n        //   .attr('cy', function (d) {\n        //     return d.y\n        //   })\n        //   .attr('r', 1.5)\n        //   .attr('stroke', function (d, index) {\n        //     return that.getColor(i, 0.5)\n        //   })\n      }\n      // 给两条直线中上色可转换成一条线上色，将第二条线内换成别的颜色就可以\n      // 将扇形的多余部分用空白圆覆盖\n      const shadow = main.append('circle');\n      shadow.attr('cx', 0).attr('cy', 0).attr('r', this.chartConfig.sector_radius).attr('fill', 'white');\n      // 画面积图上的标点\n      const pointsAreas = main.append('g').classed('pointsAreas', true);\n      pointsAreas.selectAll('g').data(pointsData).enter().append('g').attr('class', function (d, i) {\n        return 'pointsArea' + (i + 1);\n      });\n      for (let i = 0; i < pointsData.length; i++) {\n        const pointsArea = pointsAreas.select('.pointsArea' + (i + 1));\n        const pointArea = pointsArea.append('g').classed('pointArea', true);\n        pointArea.selectAll('circles').data(pointsData[i]).enter().append('circle').attr('cx', function (d) {\n          return that.chartConfig.sector_radius * Math.sin(d);\n        }).attr('cy', function (d) {\n          return that.chartConfig.sector_radius * Math.cos(d);\n        }).attr('r', 2).attr('fill', that.chartConfig.mainColor[i]);\n      }\n      // 同心圆\n      const webs = main.append('g').classed('webs', true);\n      webs.selectAll('circle').data(polygons.radius_circle).enter().append('circle').attr('cx', '0').attr('cy', '0').attr('r', function (d) {\n        return d;\n      });\n      // 画轴\n      const axissData = this.calcAxisData(polygons, idx);\n      const lines = main.append('g').classed('lines', true);\n      lines.selectAll('g').data(axissData).enter().append('g').attr('class', function (d, i) {\n        return 'line' + (i + 1);\n      });\n      for (let i = 0; i < this.chartConfig.total * this.chartConfig.level; i++) {\n        const line = lines.select('.line' + (i + 1));\n        line.append('line').attr('x1', 0).attr('y1', 0).attr('x2', axissData[i].x).attr('y2', axissData[i].y).attr('stroke-width', 12).attr('stroke', 'white');\n      }\n      // 标注公司位置\n      const copData = this.calcCopData123(polygons, idx);\n      console.log(copData);\n      const pointsLines = main.append('g').classed('pointsLines', true);\n      pointsLines.selectAll('g').data(copData).enter().append('g').attr('class', function (d, i) {\n        return 'pointsLine' + (i + 1);\n      });\n      for (let i = 0; i < copData.length; i++) {\n        const pointsLine = pointsLines.select('.pointsLine' + (i + 1));\n        const pointLine = pointsLine.append('g').classed('pointLine', true);\n        pointLine.selectAll('circles').data(copData[i]).enter().append('circle').attr('cx', function (d) {\n          return d.x;\n        }).attr('cy', function (d) {\n          return d.y;\n        }).attr('r', 2).attr('stroke', that.getColor(i, 1)).attr('fill', that.getColor(i, 1));\n      }\n      // 计算点的位置\n      const areasData = this.calcAreaData(idx);\n      // 添加g分组包含所有雷达图区域\n      const areas = main.append('g').classed('areas', true);\n      // 添加g分组包含雷达图区域下的多边形和圆点\n      areas.selectAll('g').data(areasData).enter().append('g').attr('class', function (d, i) {\n        return 'area' + (i + 1);\n      });\n      for (let i = 0; i < areasData.length; i++) {\n        // 遍历每个雷达图区域\n        const area = areas.select('.area' + (i + 1));\n        const areaData = areasData[i];\n        area.append('polygon').attr('points', areaData.polygon).attr('stroke', function (d, index) {\n          return that.getColorCoop(i);\n        }).attr('stroke-width', 0.1).attr('fill', 'none');\n        // 绘制雷达图定点\n        const circles = area.append('g').classed('circles', true);\n        circles.selectAll('circles').data(areaData.points).enter().append('circle').attr('cx', function (d) {\n          return d.x;\n        }).attr('cy', function (d) {\n          return d.y;\n        }).attr('r', 1).attr('stroke', function (d, index) {\n          return that.getColorCoop(i);\n        }).attr('fill', function (d, index) {\n          return that.getColorCoop(i);\n        });\n      }\n      // 计算文字坐标\n      const textPoints = [];\n      // 文字坐标位置\n      const textRadius = this.chartConfig.radius + 30;\n      for (let i = 0; i < this.chartConfig.total; i++) {\n        const x = textRadius * Math.sin(i * onePiece);\n        const y = textRadius * Math.cos(i * onePiece);\n        textPoints.push({\n          x: x,\n          y: y\n        });\n      }\n      const title = main.append('text').classed('title', true);\n      title\n      // .select('text')\n      .attr('x', -160).attr('y', -120)\n      // .text('123')\n      .text(that.chartData.title[idx]);\n      // 添加到画布\n      const texts = main.append('g').classed('texts', true);\n      texts.selectAll('text').data(textPoints).enter().append('text').attr('x', function (d) {\n        return d.x;\n      }).attr('y', function (d) {\n        return d.y;\n      }).text(function (d, i) {\n        return that.chartData.fieldNames[idx][i];\n      });\n    },\n    // 计算面积图上目标公司，对比公司以及均值的点\n    calcPointData(idx) {\n      const keys = Object.keys(bordJson);\n      const copNames = Object.keys(radarJson);\n      const pointsData = [];\n      for (let k = 0; k < 3; k++) {\n        const pointData = [];\n        for (let i = 0; i < 6; i++) {\n          let sum = 0;\n          if (k === 0) {\n            for (let j = 0; j < radarAxisJson[keys[idx * 6 + i]].length; j++) {\n              sum += radarAxisJson[keys[idx * 6 + i]][j];\n            }\n            const avg = sum / radarAxisJson[keys[idx * 6 + i]].length;\n            pointData.push((avg - bordJson[keys[idx * 6 + i]][0][0]) / (bordJson[keys[idx * 6 + i]][0][5] - bordJson[keys[idx * 6 + i]][0][0]) * this.chartConfig.arc / 30 * 4 + i * this.chartConfig.arc / 6);\n          } else if (k === 1) {\n            pointData.push((radarJson[copNames[0]][idx * 6 + i] - bordJson[keys[idx * 6 + i]][0][0]) / (bordJson[keys[idx * 6 + i]][0][5] - bordJson[keys[idx * 6 + i]][0][0]) * this.chartConfig.arc / 30 * 4 + i * this.chartConfig.arc / 6);\n          } else {\n            pointData.push((radarJson[copNames[this.corCop]][idx * 6 + i] - bordJson[keys[idx * 6 + i]][0][0]) / (bordJson[keys[idx * 6 + i]][0][5] - bordJson[keys[idx * 6 + i]][0][0]) * this.chartConfig.arc / 30 * 4 + i * this.chartConfig.arc / 6);\n          }\n        }\n        pointsData.push(pointData);\n      }\n      return pointsData;\n    },\n    // 计算轴上公司位置\n    calcCopData(polygons, idx) {\n      const keys = Object.keys(radarAxisJson);\n      const copDatas = [];\n      for (let i = 0; i < 6; i++) {\n        const copData = [];\n        const min = radarAxisJson[keys[idx * 6 + i]][0];\n        const max = radarAxisJson[keys[idx * 6 + i]][radarAxisJson[keys[idx * 6 + i]].length - 1];\n        for (let j = 0; j < radarAxisJson[keys[idx * 6 + i]].length; j++) {\n          copData.push({\n            x: polygons.webPoints[0][i].x * (radarAxisJson[keys[idx * 6 + i]][j] - min) / (max - min),\n            y: polygons.webPoints[0][i].y * (radarAxisJson[keys[idx * 6 + i]][j] - min) / (max - min)\n          });\n        }\n        copDatas.push(copData);\n      }\n      return copDatas;\n    },\n    calcCopData123(polygons, idx) {\n      const keys = Object.keys(radarAxisJson);\n      const copDatas = [];\n      for (let i = 0; i < 6; i++) {\n        const copData = [];\n        for (let j = 0; j < radarAxisJson[keys[idx * 6 + i]].length; j++) {\n          let sector = -1;\n          for (let k = 0; k < 5; k++) {\n            if (radarAxisJson[keys[idx * 6 + i]][j] <= bord123Json[keys[idx * 6 + i]][0][k][1] && radarAxisJson[keys[idx * 6 + i]][j] >= bord123Json[keys[idx * 6 + i]][0][k][0]) {\n              sector = k;\n            }\n          }\n          const min = bord123Json[keys[idx * 6 + i]][0][sector][0];\n          const max = bord123Json[keys[idx * 6 + i]][0][sector][1];\n          copData.push({\n            x: polygons.webPoints[0][i].x / 5 * ((radarAxisJson[keys[idx * 6 + i]][j] - min) / (max - min) + sector),\n            y: polygons.webPoints[0][i].y / 5 * ((radarAxisJson[keys[idx * 6 + i]][j] - min) / (max - min) + sector)\n          });\n        }\n        copDatas.push(copData);\n      }\n      return copDatas;\n    },\n    calcAxisData(polygons, idx) {\n      const axisData = [];\n      for (let i = 0; i < polygons.webPoints.length; i++) {\n        for (let j = 0; j < polygons.webPoints[i].length; j++) {\n          axisData.push({\n            x: polygons.webPoints[i][j].x,\n            y: polygons.webPoints[i][j].y,\n            proportion: this.chartData.values_coop_num[idx][j][i]\n          });\n        }\n      }\n      return axisData;\n    },\n    calcAreaData(idx) {\n      const keys = Object.keys(radarJson);\n      for (let i = 0; i < 6; i++) {\n        this.chartData.values[idx][0][i] = radarJson[keys[0]][idx * 6 + i];\n        this.chartData.values[idx][1][i] = radarJson[keys[this.corCop]][idx * 6 + i];\n      }\n      const areasData = [];\n      const onePiece = this.chartConfig.arc / this.chartConfig.total;\n      const values = this.chartData.values[idx];\n      this.chartConfig.rangeMax = this.find1Max(values[0], values[1]);\n      this.chartConfig.rangeMin = this.find1Min(values[0], values[1]);\n      for (let i = 0; i < values.length; i++) {\n        const value = values[i];\n        let area = '';\n        const points = [];\n        for (let k = 0; k < this.chartConfig.total; k++) {\n          const r = this.chartConfig.radius * (1 - (value[k] - this.chartConfig.rangeMin) / (this.chartConfig.rangeMax - this.chartConfig.rangeMin));\n          const x = r * Math.sin(k * onePiece);\n          const y = r * Math.cos(k * onePiece);\n          area += x + ',' + y + ' ';\n          points.push({\n            x: x,\n            y: y\n          });\n        }\n        areasData.push({\n          // 用于画连线的定义\n          polygon: area,\n          // 用于计算单个点的定义\n          points: points\n        });\n      }\n      return areasData;\n    },\n    calcSectorData(idx) {\n      const keys = Object.keys(bordJson);\n      for (let i = 0; i < 6; i++) {\n        for (let j = 0; j < 5; j++) {\n          this.chartData.values_coop_num[idx][i][j] = bordJson[keys[idx * 6 + i]][1][j];\n        }\n      }\n      const sectorData = [];\n      const onePiece = this.chartConfig.arc / 30;\n      const values = this.chartData.values_coop_num[idx];\n      // 分6次画扇形\n      for (let i = 0; i < values.length; i++) {\n        const value = values[i];\n        let sector = '';\n        const points = [];\n        // 每个扇形中有5个点\n        const temp = this.findMax(value);\n        for (let j = 0; j < value.length; j++) {\n          const r = this.chartConfig.sector_radius + value[j] / temp * this.chartConfig.sector_height;\n          const x = r * Math.sin((i * 5 + j) * onePiece);\n          const y = r * Math.cos((i * 5 + j) * onePiece);\n          sector += x + ',' + y + ' ';\n          points.push({\n            x: x,\n            y: y\n          });\n          if (j === value.length - 1) {\n            sector += 0 + ',' + 0 + ' ';\n          }\n        }\n        sectorData.push({\n          polygon: sector,\n          points: points\n        });\n      }\n      return sectorData;\n    },\n    findMax(array) {\n      let temp = 0;\n      for (let i = 0; i < array.length; i++) {\n        if (array[i] > temp) {\n          temp = array[i];\n        }\n      }\n      return temp;\n    },\n    find1Max(array1, array2) {\n      let temp = array1[0];\n      for (let i = 0; i < array1.length; i++) {\n        if (array1[i] > temp) {\n          temp = array1[i];\n        }\n      }\n      for (let i = 0; i < array2.length; i++) {\n        if (array2[i] > temp) {\n          temp = array2[i];\n        }\n      }\n      return temp;\n    },\n    find1Min(array1, array2) {\n      let temp = array1[0];\n      for (let i = 0; i < array1.length; i++) {\n        if (array1[i] < temp) {\n          temp = array1[i];\n        }\n      }\n      for (let i = 0; i < array2.length; i++) {\n        if (array2[i] < temp) {\n          temp = array2[i];\n        }\n      }\n      return temp;\n    }\n  },\n  mounted() {\n    this.createRadarChart(180, 150, 0);\n    this.createRadarChart(180, 450, 1);\n    this.createRadarChart(180, 750, 2);\n  }\n};","map":{"version":3,"names":["radarAxisJson","radarJson","bordJson","bord123Json","d3","name","data","chartData","fieldNames","title","values","values_coop_num","chartConfig","radius","sector_radius","sector_height","total","level","rangeMin","rangeMax","arc","Math","PI","mainColor","count","props","corCop","Number","methods","getColorCoop","idx","palette","length","getColor","proportion","i","interpolateLab","createRadarChart","width","height","that","main","select","append","classed","attr","onePiece","polygons","webs","webPoints","radius_circle","k","r","push","x","sin","y","cos","temp","findMax","sectorsData","calcSectorData","pointsData","calcPointData","sectors","selectAll","enter","d","sector","sectorData","polygon","index","shadow","pointsAreas","pointsArea","pointArea","axissData","calcAxisData","lines","line","copData","calcCopData123","console","log","pointsLines","pointsLine","pointLine","areasData","calcAreaData","areas","area","areaData","circles","points","textPoints","textRadius","text","texts","keys","Object","copNames","pointData","sum","j","avg","calcCopData","copDatas","min","max","axisData","find1Max","find1Min","value","array","array1","array2","mounted"],"sources":["/Users/younggaming/Documents/webstorm/ybcprogram/src/components/view2.vue"],"sourcesContent":["<template>\n  <div class=\"container\" id=\"view3\">\n    <svg width=\"100%\" height=\"100%\"></svg>\n  </div>\n\n</template>\n\n<script>\nimport radarAxisJson from '../../../../pyCharm/ybcProject/data/radar_axis.json'\nimport radarJson from '../../../../pyCharm/ybcProject/data/radar_detail.json'\nimport bordJson from '../../../../pyCharm/ybcProject/data/bord.json'\nimport bord123Json from '../../../../pyCharm/ybcProject/data/bord123.json'\nimport * as d3 from 'd3'\nexport default {\n  name: 'view_2',\n  data () {\n    return {\n      chartData: {\n        fieldNames: [\n          ['流动比率', '速动比率', '现金比率', '资产负债率', '所有者权益比率', '产权比率'],\n          ['流动资产周转率', '流动资产利润率', '固定资产周转率', '固定资产利润率', '总资产周转率', '总资产利润率'],\n          ['营业毛利率', '净利润率', '营业利润率', '成本费用利润率', '总资产报酬率', '总负债报酬率']\n        ],\n        title: ['偿债能力分析', '运营能力分析', '获利能力分析'],\n        values: [\n          [[10, 20, 30, 40, 50, 60], [10, 20, 30, 40, 100, 100]],\n          [[10, 20, 30, 40, 50, 60], [10, 20, 30, 40, 100, 100]],\n          [[10, 20, 30, 40, 50, 60], [10, 20, 30, 40, 100, 100]]\n        ],\n        values_coop_num: [\n          [[1, 1, 0, 1, 0], [1, 2, 3, 4, 5], [30, 2, 3, 4, 5], [1, 2, 3, 4, 5], [1, 2, 30, 4, 5], [1, 2, 3, 4, 5]],\n          [[1, 1, 0, 1, 0], [1, 2, 3, 4, 5], [30, 30, 30, 30, 30], [1, 2, 3, 4, 5], [1, 2, 30, 4, 5], [1, 2, 3, 4, 5]],\n          [[1, 1, 0, 1, 0], [1, 2, 3, 4, 5], [30, 30, 30, 30, 30], [1, 2, 3, 4, 5], [1, 2, 30, 4, 5], [30, 30, 30, 30, 30]]\n        ]\n      },\n      chartConfig: {\n        // 调整雷达图的大小\n        radius: 75,\n        // 雷达图外扇形半径\n        sector_radius: 80,\n        // 雷达图外扇形高度\n        sector_height: 15,\n        // 指标的数量，和fieldNames的长度相同\n        total: 6,\n        // 网轴的级数，网轴上从小到大有多少个正方形\n        level: 5,\n        rangeMin: 0,\n        rangeMax: 100,\n        arc: 2 * Math.PI,\n        mainColor: ['#0081C9', '#54B435', '#F7A4A4'],\n        count: 0\n      }\n    }\n  },\n  props: {\n    corCop: Number\n  },\n  methods: {\n    // 计算轴颜色和扇形颜色盘\n    // 公司和对比公司的颜色盘\n    getColorCoop (idx) {\n      const palette = ['#0081C9', '#54B435']\n      return palette[idx % palette.length]\n    },\n    getColor (idx, proportion) {\n      const palette = [ // 从上到下：绿黄蓝紫灰红\n        ['#2ca25f', '#99d8c9'],\n        ['#fdae6b', '#ffeda0'],\n        ['#3182bd', '#9ecae1'],\n        ['#756bb1', '#bcbddc'],\n        ['#636363', '#bdbdbd'],\n        ['#f03b20', '#feb24c']\n      ]\n      const i = d3.interpolateLab(palette[idx][0], palette[idx][1])\n      return i(proportion)\n    },\n    createRadarChart (width, height, idx) {\n      // 给data里的值赋值\n      // this.chartData.values_main[0][0] = 100\n      const that = this\n      const main = d3.select('#view3 svg')\n        .append('g')\n        .classed('main', true)\n        // 可以这么写数据，圆中心位置\n        .attr('transform', 'translate(' + width + ',' + height + ')')\n      const onePiece = this.chartConfig.arc / this.chartConfig.total\n      // 每个点坐标\n      const polygons = {\n        webs: [],\n        webPoints: [],\n        // 同心圆半径\n        radius_circle: []\n      }\n      // 计算每一层坐标\n      for (let k = this.chartConfig.level; k > 0; k--) {\n        let webs = ''\n        const webPoints = []\n        const r = this.chartConfig.radius / this.chartConfig.level * k\n        polygons.radius_circle.push(r)\n        // 计算一层中每个点的坐标\n        for (let i = 0; i < this.chartConfig.total; i++) {\n          const x = r * Math.sin(i * onePiece)\n          const y = r * Math.cos(i * onePiece)\n          const temp = this.findMax(this.chartData.values_coop_num[idx][i])\n          webs += x + ',' + y + ' '\n          webPoints.push({\n            x: x,\n            y: y,\n            proportion: this.chartData.values_coop_num[idx][i][k] / temp\n          })\n        }\n        polygons.webs.push(webs)\n        polygons.webPoints.push(webPoints)\n      }\n      // 画圆外侧扇形区域\n      const sectorsData = this.calcSectorData(idx)\n      const pointsData = this.calcPointData(idx)\n      const sectors = main.append('g')\n        .classed('sectors', true)\n      sectors.selectAll('g')\n        .data(sectorsData)\n        .enter()\n        .append('g')\n        .attr('class', function (d, i) {\n          return 'sector' + (i + 1)\n        })\n      for (let i = 0; i < sectorsData.length; i++) {\n        // 遍历每个雷达图区域\n        const sector = sectors.select('.sector' + (i + 1))\n        const sectorData = sectorsData[i]\n        sector.append('polygon')\n          .attr('points', sectorData.polygon)\n          .attr('fill', function (d, index) {\n            return that.getColor(i, 0.5)\n          })\n        // .attr('fill', 'none')\n        // const circles = sector.append('g')\n        //   .classed('circles', true)\n        // circles.selectAll('circles')\n        //   .data(sectorData.points)\n        //   .enter()\n        //   .append('circle')\n        //   .attr('cx', function (d) {\n        //     return d.x\n        //   })\n        //   .attr('cy', function (d) {\n        //     return d.y\n        //   })\n        //   .attr('r', 1.5)\n        //   .attr('stroke', function (d, index) {\n        //     return that.getColor(i, 0.5)\n        //   })\n      }\n      // 给两条直线中上色可转换成一条线上色，将第二条线内换成别的颜色就可以\n      // 将扇形的多余部分用空白圆覆盖\n      const shadow = main.append('circle')\n      shadow.attr('cx', 0)\n        .attr('cy', 0)\n        .attr('r', this.chartConfig.sector_radius)\n        .attr('fill', 'white')\n      // 画面积图上的标点\n      const pointsAreas = main.append('g')\n        .classed('pointsAreas', true)\n      pointsAreas.selectAll('g')\n        .data(pointsData)\n        .enter()\n        .append('g')\n        .attr('class', function (d, i) {\n          return 'pointsArea' + (i + 1)\n        })\n      for (let i = 0; i < pointsData.length; i++) {\n        const pointsArea = pointsAreas.select('.pointsArea' + (i + 1))\n        const pointArea = pointsArea.append('g')\n          .classed('pointArea', true)\n        pointArea.selectAll('circles')\n          .data(pointsData[i])\n          .enter()\n          .append('circle')\n          .attr('cx', function (d) {\n            return that.chartConfig.sector_radius * Math.sin(d)\n          })\n          .attr('cy', function (d) {\n            return that.chartConfig.sector_radius * Math.cos(d)\n          })\n          .attr('r', 2)\n          .attr('fill', that.chartConfig.mainColor[i])\n      }\n      // 同心圆\n      const webs = main.append('g')\n        .classed('webs', true)\n      webs.selectAll('circle')\n        .data(polygons.radius_circle)\n        .enter()\n        .append('circle')\n        .attr('cx', '0')\n        .attr('cy', '0')\n        .attr('r', function (d) {\n          return d\n        })\n      // 画轴\n      const axissData = this.calcAxisData(polygons, idx)\n      const lines = main.append('g')\n        .classed('lines', true)\n      lines.selectAll('g')\n        .data(axissData)\n        .enter()\n        .append('g')\n        .attr('class', function (d, i) {\n          return 'line' + (i + 1)\n        })\n      for (let i = 0; i < this.chartConfig.total * this.chartConfig.level; i++) {\n        const line = lines.select('.line' + (i + 1))\n        line.append('line')\n          .attr('x1', 0)\n          .attr('y1', 0)\n          .attr('x2', axissData[i].x)\n          .attr('y2', axissData[i].y)\n          .attr('stroke-width', 12)\n          .attr('stroke', 'white')\n      }\n      // 标注公司位置\n      const copData = this.calcCopData123(polygons, idx)\n      console.log(copData)\n      const pointsLines = main.append('g')\n        .classed('pointsLines', true)\n      pointsLines.selectAll('g')\n        .data(copData)\n        .enter()\n        .append('g')\n        .attr('class', function (d, i) {\n          return 'pointsLine' + (i + 1)\n        })\n      for (let i = 0; i < copData.length; i++) {\n        const pointsLine = pointsLines.select('.pointsLine' + (i + 1))\n        const pointLine = pointsLine.append('g')\n          .classed('pointLine', true)\n        pointLine.selectAll('circles')\n          .data(copData[i])\n          .enter()\n          .append('circle')\n          .attr('cx', function (d) {\n            return d.x\n          })\n          .attr('cy', function (d) {\n            return d.y\n          })\n          .attr('r', 2)\n          .attr('stroke', that.getColor(i, 1))\n          .attr('fill', that.getColor(i, 1))\n      }\n      // 计算点的位置\n      const areasData = this.calcAreaData(idx)\n      // 添加g分组包含所有雷达图区域\n      const areas = main.append('g')\n        .classed('areas', true)\n      // 添加g分组包含雷达图区域下的多边形和圆点\n      areas.selectAll('g')\n        .data(areasData)\n        .enter()\n        .append('g')\n        .attr('class', function (d, i) {\n          return 'area' + (i + 1)\n        })\n      for (let i = 0; i < areasData.length; i++) {\n        // 遍历每个雷达图区域\n        const area = areas.select('.area' + (i + 1))\n        const areaData = areasData[i]\n        area.append('polygon')\n          .attr('points', areaData.polygon)\n          .attr('stroke', function (d, index) {\n            return that.getColorCoop(i)\n          })\n          .attr('stroke-width', 0.1)\n          .attr('fill', 'none')\n        // 绘制雷达图定点\n        const circles = area.append('g')\n          .classed('circles', true)\n        circles.selectAll('circles')\n          .data(areaData.points)\n          .enter()\n          .append('circle')\n          .attr('cx', function (d) {\n            return d.x\n          })\n          .attr('cy', function (d) {\n            return d.y\n          })\n          .attr('r', 1)\n          .attr('stroke', function (d, index) {\n            return that.getColorCoop(i)\n          })\n          .attr('fill', function (d, index) {\n            return that.getColorCoop(i)\n          })\n      }\n      // 计算文字坐标\n      const textPoints = []\n      // 文字坐标位置\n      const textRadius = this.chartConfig.radius + 30\n      for (let i = 0; i < this.chartConfig.total; i++) {\n        const x = textRadius * Math.sin(i * onePiece)\n        const y = textRadius * Math.cos(i * onePiece)\n        textPoints.push({\n          x: x,\n          y: y\n        })\n      }\n      const title = main.append('text')\n        .classed('title', true)\n      title\n        // .select('text')\n        .attr('x', -160)\n        .attr('y', -120)\n        // .text('123')\n        .text(that.chartData.title[idx])\n      // 添加到画布\n      const texts = main.append('g')\n        .classed('texts', true)\n      texts.selectAll('text')\n        .data(textPoints)\n        .enter()\n        .append('text')\n        .attr('x', function (d) {\n          return d.x\n        })\n        .attr('y', function (d) {\n          return d.y\n        })\n        .text(function (d, i) {\n          return that.chartData.fieldNames[idx][i]\n        })\n    },\n    // 计算面积图上目标公司，对比公司以及均值的点\n    calcPointData (idx) {\n      const keys = Object.keys(bordJson)\n      const copNames = Object.keys(radarJson)\n      const pointsData = []\n      for (let k = 0; k < 3; k++) {\n        const pointData = []\n        for (let i = 0; i < 6; i++) {\n          let sum = 0\n          if (k === 0) {\n            for (let j = 0; j < radarAxisJson[keys[idx * 6 + i]].length; j++) {\n              sum += radarAxisJson[keys[idx * 6 + i]][j]\n            }\n            const avg = sum / radarAxisJson[keys[idx * 6 + i]].length\n            pointData.push((avg - bordJson[keys[idx * 6 + i]][0][0]) / (bordJson[keys[idx * 6 + i]][0][5] - bordJson[keys[idx * 6 + i]][0][0]) * this.chartConfig.arc / 30 * 4 + i * this.chartConfig.arc / 6)\n          } else if (k === 1) {\n            pointData.push((radarJson[copNames[0]][idx * 6 + i] - bordJson[keys[idx * 6 + i]][0][0]) / (bordJson[keys[idx * 6 + i]][0][5] - bordJson[keys[idx * 6 + i]][0][0]) * this.chartConfig.arc / 30 * 4 + i * this.chartConfig.arc / 6)\n          } else {\n            pointData.push((radarJson[copNames[this.corCop]][idx * 6 + i] - bordJson[keys[idx * 6 + i]][0][0]) / (bordJson[keys[idx * 6 + i]][0][5] - bordJson[keys[idx * 6 + i]][0][0]) * this.chartConfig.arc / 30 * 4 + i * this.chartConfig.arc / 6)\n          }\n        }\n        pointsData.push(pointData)\n      }\n      return pointsData\n    },\n    // 计算轴上公司位置\n    calcCopData (polygons, idx) {\n      const keys = Object.keys(radarAxisJson)\n      const copDatas = []\n      for (let i = 0; i < 6; i++) {\n        const copData = []\n        const min = radarAxisJson[keys[idx * 6 + i]][0]\n        const max = radarAxisJson[keys[idx * 6 + i]][radarAxisJson[keys[idx * 6 + i]].length - 1]\n        for (let j = 0; j < radarAxisJson[keys[idx * 6 + i]].length; j++) {\n          copData.push({\n            x: polygons.webPoints[0][i].x * (radarAxisJson[keys[idx * 6 + i]][j] - min) / (max - min),\n            y: polygons.webPoints[0][i].y * (radarAxisJson[keys[idx * 6 + i]][j] - min) / (max - min)\n          })\n        }\n        copDatas.push(copData)\n      }\n      return copDatas\n    },\n    calcCopData123 (polygons, idx) {\n      const keys = Object.keys(radarAxisJson)\n      const copDatas = []\n      for (let i = 0; i < 6; i++) {\n        const copData = []\n        for (let j = 0; j < radarAxisJson[keys[idx * 6 + i]].length; j++) {\n          let sector = -1\n          for (let k = 0; k < 5; k++) {\n            if (radarAxisJson[keys[idx * 6 + i]][j] <= bord123Json[keys[idx * 6 + i]][0][k][1] && radarAxisJson[keys[idx * 6 + i]][j] >= bord123Json[keys[idx * 6 + i]][0][k][0]) {\n              sector = k\n            }\n          }\n          const min = bord123Json[keys[idx * 6 + i]][0][sector][0]\n          const max = bord123Json[keys[idx * 6 + i]][0][sector][1]\n          copData.push({\n            x: polygons.webPoints[0][i].x / 5 * ((radarAxisJson[keys[idx * 6 + i]][j] - min) / (max - min) + sector),\n            y: polygons.webPoints[0][i].y / 5 * ((radarAxisJson[keys[idx * 6 + i]][j] - min) / (max - min) + sector)\n          })\n        }\n        copDatas.push(copData)\n      }\n      return copDatas\n    },\n    calcAxisData (polygons, idx) {\n      const axisData = []\n      for (let i = 0; i < polygons.webPoints.length; i++) {\n        for (let j = 0; j < polygons.webPoints[i].length; j++) {\n          axisData.push({\n            x: polygons.webPoints[i][j].x,\n            y: polygons.webPoints[i][j].y,\n            proportion: this.chartData.values_coop_num[idx][j][i]\n          })\n        }\n      }\n      return axisData\n    },\n    calcAreaData (idx) {\n      const keys = Object.keys(radarJson)\n      for (let i = 0; i < 6; i++) {\n        this.chartData.values[idx][0][i] = radarJson[keys[0]][idx * 6 + i]\n        this.chartData.values[idx][1][i] = radarJson[keys[this.corCop]][idx * 6 + i]\n      }\n      const areasData = []\n      const onePiece = this.chartConfig.arc / this.chartConfig.total\n      const values = this.chartData.values[idx]\n      this.chartConfig.rangeMax = this.find1Max(values[0], values[1])\n      this.chartConfig.rangeMin = this.find1Min(values[0], values[1])\n      for (let i = 0; i < values.length; i++) {\n        const value = values[i]\n        let area = ''\n        const points = []\n        for (let k = 0; k < this.chartConfig.total; k++) {\n          const r = this.chartConfig.radius * (1 - (value[k] - this.chartConfig.rangeMin) / (this.chartConfig.rangeMax - this.chartConfig.rangeMin))\n          const x = r * Math.sin(k * onePiece)\n          const y = r * Math.cos(k * onePiece)\n          area += x + ',' + y + ' '\n          points.push({\n            x: x,\n            y: y\n          })\n        }\n        areasData.push({\n          // 用于画连线的定义\n          polygon: area,\n          // 用于计算单个点的定义\n          points: points\n        })\n      }\n      return areasData\n    },\n    calcSectorData (idx) {\n      const keys = Object.keys(bordJson)\n      for (let i = 0; i < 6; i++) {\n        for (let j = 0; j < 5; j++) {\n          this.chartData.values_coop_num[idx][i][j] = bordJson[keys[idx * 6 + i]][1][j]\n        }\n      }\n      const sectorData = []\n      const onePiece = this.chartConfig.arc / 30\n      const values = this.chartData.values_coop_num[idx]\n      // 分6次画扇形\n      for (let i = 0; i < values.length; i++) {\n        const value = values[i]\n        let sector = ''\n        const points = []\n        // 每个扇形中有5个点\n        const temp = this.findMax(value)\n        for (let j = 0; j < value.length; j++) {\n          const r = this.chartConfig.sector_radius + value[j] / temp * this.chartConfig.sector_height\n          const x = r * Math.sin((i * 5 + j) * onePiece)\n          const y = r * Math.cos((i * 5 + j) * onePiece)\n          sector += x + ',' + y + ' '\n          points.push({\n            x: x,\n            y: y\n          })\n          if (j === value.length - 1) {\n            sector += 0 + ',' + 0 + ' '\n          }\n        }\n        sectorData.push({\n          polygon: sector,\n          points: points\n        })\n      }\n      return sectorData\n    },\n    findMax (array) {\n      let temp = 0\n      for (let i = 0; i < array.length; i++) {\n        if (array[i] > temp) {\n          temp = array[i]\n        }\n      }\n      return temp\n    },\n    find1Max (array1, array2) {\n      let temp = array1[0]\n      for (let i = 0; i < array1.length; i++) {\n        if (array1[i] > temp) {\n          temp = array1[i]\n        }\n      }\n      for (let i = 0; i < array2.length; i++) {\n        if (array2[i] > temp) {\n          temp = array2[i]\n        }\n      }\n      return temp\n    },\n    find1Min (array1, array2) {\n      let temp = array1[0]\n      for (let i = 0; i < array1.length; i++) {\n        if (array1[i] < temp) {\n          temp = array1[i]\n        }\n      }\n      for (let i = 0; i < array2.length; i++) {\n        if (array2[i] < temp) {\n          temp = array2[i]\n        }\n      }\n      return temp\n    }\n  },\n  mounted () {\n    this.createRadarChart(180, 150, 0)\n    this.createRadarChart(180, 450, 1)\n    this.createRadarChart(180, 750, 2)\n  }\n}\n</script>\n\n<style>\n\n.container {\n  /*margin: 30px auto;*/\n  width: 100%;\n  height: 100%;\n  /*border: 1px solid #000;*/\n}\n\n.webs circle {\n  fill: white;\n  fill-opacity: 0.5;\n  stroke: white;\n  stroke-dasharray: 10, 5;\n}\n\n.lines line {\n  fill: white;\n  fill-opacity: 0.5;\n  /*stroke: red;*/\n  /*stroke-dasharray: 10, 5;*/\n}\n\n.areas polygon {\n  fill-opacity: 0.5;\n  stroke-width: 3;\n}\n\n.areas circle {\n  fill: white;\n  stroke-width: 3;\n}\n\n.sectors polygon {\n  fill-opacity: 0.5;\n  stroke-width: 3;\n}\n\n.sectors circle {\n  fill: white;\n  stroke-width: 1;\n}\n\n.texts text {\n  font-size: 10px;\n  text-anchor: middle;\n}\n\n.webs circle:nth-child(odd) {\n  fill: lightgray;\n}\n\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}